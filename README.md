# InLib Navigation (inlib_nav)

<p align="center">
  <img src="assets/images/inlib_logo2_trsp.png" alt="InLib Navigation Logo" width="150"/>
</p>

## Περιγραφή

Το InLib Navigation είναι μια εφαρμογή πλοήγησης εσωτερικού χώρου σχεδιασμένη για βιβλιοθήκες, με τρέχουσα υλοποίηση για τη βιβλιοθήκη του Πανεπιστημίου Δυτικής Μακεδονίας. Σκοπός της είναι να βοηθά τους χρήστες να εντοπίζουν γρήγορα και εύκολα βιβλία. Η εφαρμογή συνδυάζει αναζήτηση βιβλίων, λεπτομερή πληροφόρηση θέσης, και καθοδήγηση σε πραγματικό χρόνο μέσω της κάμερας της συσκευής, αξιοποιώντας τόσο την αναγνώριση QR codes όσο και την οπτική αναγνώριση κειμένου (OCR) σε πινακίδες.

Η εφαρμογή επιτρέπει την αναζήτηση βιβλίων βάσει τίτλου, συγγραφέα, ISBN ή του ταξινομικού αριθμού (LOC). Μόλις βρεθεί το βιβλίο, εμφανίζονται οι λεπτομέρειές του, συμπεριλαμβανομένου του ραφιού και του διαδρόμου όπου βρίσκεται. Στη συνέχεια, ο χρήστης μπορεί να ξεκινήσει την πλοήγηση:
1.  **Πλοήγηση μέσω QR Code:** Η κύρια ροή πλοήγησης καθοδηγεί τον χρήστη πρώτα να σαρώσει ένα QR code στην είσοδο του σωστού διαδρόμου. Τα QR codes των διαδρόμων αναμένονται σε μορφή JSON (π.χ., `{"type": "corridor", "label": "ΔΙΑΔΡΟΜΟΣ 1"}`). Μετά την επιτυχή σάρωση του διαδρόμου, η εφαρμογή καθοδηγεί τον χρήστη προς τη σωστή πλευρά (αριστερά/δεξιά) για το ράφι-στόχο και ζητά τη σάρωση ενός QR code στο συγκεκριμένο ράφι. Τα QR codes των ραφιών αναμένονται επίσης σε μορφή JSON, περιέχοντας τον αριθμό ραφιού και το εύρος των ταξινομικών αριθμών (LOC) που καλύπτουν (π.χ., `{"type": "shelf", "shelf_number": 5, "loc_start": "QA76.A1", "loc_end": "QA76.Z9"}`).
2.  **Πλοήγηση μέσω Αναγνώρισης Κειμένου (OCR):** Η εφαρμογή διαθέτει επίσης λειτουργικότητα αναγνώρισης πινακίδων διαδρόμων (π.χ., "ΔΙΑΔΡΟΜΟΣ 1", "ΔΙΑΔΡΟΜΟΣ 2") απευθείας από την εικόνα της κάμερας μέσω OCR, παρέχοντας οπτική και ηχητική καθοδήγηση προς τον σωστό διάδρομο.

Και οι δύο μέθοδοι πλοήγησης υποστηρίζονται από οπτικοακουστικές οδηγίες (π.χ., μηνύματα στην οθόνη, εικονίδια, Text-to-Speech) και δόνηση για την επιβεβαίωση εντοπισμού. Με την επιτυχή εύρεση του βιβλίου μέσω QR scanning, εμφανίζεται οθόνη επιβεβαίωσης με τις πληροφορίες του βιβλίου και τον χρόνο που απαιτήθηκε για την πλοήγηση στο ράφι.

## Βασικά Χαρακτηριστικά

* **Αναζήτηση Βιβλίων:** Αναζήτηση με τίτλο, συγγραφέα, ISBN, LOC.
* **Προβολή Λεπτομερειών:** Εμφάνιση στοιχείων βιβλίου, υπολογισμένου ραφιού και διαδρόμου.
* **Υπολογισμός Θέσης:** Αυτόματος υπολογισμός ραφιού και διαδρόμου βάσει του LOC του βιβλίου.
* **Πλοήγηση με QR Code:**
    * Σάρωση QR codes για αναγνώριση διαδρόμων.
    * Σάρωση QR codes για αναγνώριση ραφιών και επιβεβαίωση εύρους LOC.
* **Πλοήγηση με Αναγνώριση Κειμένου (OCR):**
    * Χρήση της κάμερας για αναγνώριση πινακίδων διαδρόμων (π.χ., "ΔΙΑΔΡΟΜΟΣ 1").
    * Οπτική επισήμανση του εντοπισμένου κειμένου/στόχου με εικονίδια.
* **Οπτικοακουστική Καθοδήγηση:**
    * Εμφάνιση μηνυμάτων και εικονιδίων στην οθόνη.
    * Αναπαραγωγή ηχητικών οδηγιών μέσω Text-to-Speech (TTS) στα Ελληνικά.
* **Δόνηση:** Δόνηση κατά τον εντοπισμό του σωστού διαδρόμου ή/και ραφιού.
* **Επιβεβαίωση Εύρεσης & Στατιστικά:** Εμφάνιση οθόνης επιβεβαίωσης (`BookFoundScreen`) μετά την εύρεση του βιβλίου μέσω QR, με πληροφορίες βιβλίου και τον χρόνο που απαιτήθηκε για την εύρεση του ραφιού.
* **Βελτιστοποίηση Απόδοσης Κάμερας:** Έλεγχος του ρυθμού επεξεργασίας καρέ για βελτίωση απόδοσης.
* **Διαχείριση Αδειών:** Ενσωματωμένος έλεγχος και αίτηση για τις απαραίτητες άδειες (κάμερα).

## Τεχνολογίες & Βασικές Εξαρτήσεις

* **Framework:** Flutter
* **Γλώσσα:** Dart
* **Διαχείριση Κατάστασης (State Management):** Provider (`provider`)
* **Κάμερα:** `camera`
* **Machine Learning (ML) & Computer Vision:**
    * Google ML Kit:
        * `google_mlkit_barcode_scanning` (Για σάρωση QR codes)
        * `google_mlkit_text_recognition` (Για OCR σε πινακίδες)
* **Ήχος (Text-to-Speech):** `flutter_tts`
* **Δόνηση:** `vibration`
* **Δικαιώματα (Permissions):** `permission_handler`
* **Βοηθητικά πακέτα:** `image_picker` (πιθανώς για αρχικές δοκιμές ή μελλοντική χρήση)

## Ξεκινώντας (Getting Started)

Αυτό το project αποτελεί σημείο εκκίνησης για μια εφαρμογή Flutter.

Για βοήθεια σχετικά με την έναρξη της ανάπτυξης με Flutter, δείτε την [online τεκμηρίωση](https://docs.flutter.dev/), η οποία προσφέρει εκπαιδευτικά υλικά, παραδείγματα, καθοδήγηση για mobile development και πλήρη αναφορά API.

1.  **Clone το αποθετήριο:**
    ```bash
    git clone [https://github.com/flyefta/inlib_nav.git](https://github.com/flyefta/inlib_nav.git)
    cd inlib_nav
    ```
2.  **Εγκατάσταση εξαρτήσεων:**
    ```bash
    flutter pub get
    ```
3.  **Εκτέλεση της εφαρμογής:**
    ```bash
    flutter run
    ```

## Χρήση

1.  Ανοίξτε την εφαρμογή.
2.  Χρησιμοποιήστε τη γραμμή αναζήτησης στην αρχική οθόνη για να βρείτε ένα βιβλίο εισάγοντας τίτλο, συγγραφέα, ISBN ή τον ταξινομικό του αριθμό (LOC).
3.  Πατήστε στο αποτέλεσμα που σας ενδιαφέρει για να δείτε τις λεπτομέρειες του βιβλίου, τον διάδρομο και το ράφι όπου βρίσκεται.
4.  Πατήστε το κουμπί "Έναρξη Σάρωσης για Διάδρομο".
    * Η εφαρμογή θα σας καθοδηγήσει να σαρώσετε με την κάμερα ένα **QR code** που αντιστοιχεί στον διάδρομο-στόχο.
    * Ακολουθήστε τις οπτικές και ηχητικές οδηγίες.
    * Μετά την επιτυχή αναγνώριση του διαδρόμου, η εφαρμογή θα σας υποδείξει την πλευρά του ραφιού (αριστερά/δεξιά) και θα σας ζητήσει να σαρώσετε το **QR code του ραφιού**.
    * Η σάρωση του QR του ραφιού επιβεβαιώνει ότι βρίσκεστε στο σωστό ράφι και ότι το βιβλίο ανήκει στο εύρος ταξινομικών αριθμών του συγκεκριμένου ραφιού.
    * Μόλις το βιβλίο επιβεβαιωθεί στο σωστό ράφι, θα εμφανιστεί ένα κουμπί "Ολοκλήρωση Αναζήτησης".
5.  Πατώντας "Ολοκλήρωση Αναζήτησης", θα μεταφερθείτε σε μια οθόνη επιβεβαίωσης (`BookFoundScreen`) που εμφανίζει τα στοιχεία του βιβλίου και τον χρόνο που χρειάστηκε για να το βρείτε. Από εκεί, μπορείτε να ξεκινήσετε μια "Νέα Αναζήτηση".
6.  Εναλλακτικά ή συμπληρωματικά, η εφαρμογή διαθέτει λειτουργία αναγνώρισης κειμένου (OCR) (`ItemScanningScreen`) για τον εντοπισμό πινακίδων διαδρόμων απευθείας, καθοδηγώντας σας οπτικά (με εικονίδια) και ακουστικά. (Σημείωση: Η ακριβής ενσωμάτωση αυτής της οθόνης στην κύρια ροή πλοήγησης ενδέχεται να εξελίσσεται).

## Απαιτούμενα Δικαιώματα

Η εφαρμογή απαιτεί τα ακόλουθα δικαιώματα για τη σωστή λειτουργία της:

* **CAMERA:** Απαραίτητη για τη σάρωση QR codes και την αναγνώριση κειμένου (OCR) στις πινακίδες των διαδρόμων.
* **INTERNET:** (Πιθανώς για μελλοντικές λειτουργίες ή λήψη ενημερωμένων μοντέλων ML, αν και η κύρια λειτουργία μπορεί να είναι offline).
* **WRITE\_EXTERNAL\_STORAGE / READ\_EXTERNAL\_STORAGE:** (Ενδέχεται να μην είναι αυστηρά απαραίτητα για την τρέχουσα βασική λειτουργία πλοήγησης, αλλά μπορεί να ζητούνται. Η ανάγκη τους εξαρτάται από την τελική υλοποίηση, π.χ., caching δεδομένων ή μοντέλων).

## Άδεια Χρήσης

Αυτό το project διανέμεται υπό την άδεια MIT. Δείτε το αρχείο `LICENSE` για περισσότερες λεπτομέρειες (αν υπάρχει), ή επισκεφθείτε τη σελίδα [MIT License](https://opensource.org/licenses/MIT).